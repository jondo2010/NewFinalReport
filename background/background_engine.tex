\section{Engine}

\nomenclature{ECU}{Engine Control Unit}

The Formula SAE 2010 vehicle uses a \emph{Honda CBR600F4i} motorcycle engine. It is a \unit{600}{\centi\cubic\metre} super-sport class engine with an internal 6-speed transmission. It is connected to an \emph{intake} that directs air to the cylinders and an \emph{engine control unit} (ECU) for regulating the combustion timing of the engine. The rules for the Formula SAE competitions forbid \emph{drive-by-wire}, meaning that throttle control must be purely mechanical \cite{2010fsaerules}.

\subsection{Intake}
\label{sec:background_intake}

A rendering of the intake is shown in Fig.\ \ref{fig:background_intake_diagram}. The intake consists of several parts, including the \emph{throttle-body}, \emph{restrictor}, \emph{intake plenum}, \emph{intake runners}, and \emph{intake valves}. The throttle-body is a valve that controls the amount of air entering the intake system, opening in relation to the throttle pedal. It is followed by a restrictor, which restricts the maximum air flow into the engine. Use of a restrictor is mandated Formula SAE rules. After the restrictor, the air flows into a large intake plenum. From the plenum, four intake runners lead to each cylinder head, where the intake valves are located.

\begin{figure}[H]
\centering
\includegraphics[scale=1]{background/figures/intake_diagram.eps}
\caption{Rendering of the Formula SAE 2010 intake assembly.}
\label{fig:background_intake_diagram}
\end{figure}

As the intake valves on the engine open, they generate negative pressure waves that travel the length of the intake runners and back into the intake plenum. There, they reflect and travel back towards the intake valve. This reflection towards the intake valves can act to increase pressure at the valve and increase power.

\nomenclature{RPM}{Revolutions Per Minute}

A fair amount of research has been done in previous years on the intake and exhaust design for the Formula SAE car. Former UMSAE engine section head Lucas Groening wrote an undergraduate thesis on the modelling of the engine package for the 2008 Formula car. Groening performed extensive research on the effect of the intake runner length on torque output versus engine speed \cite{LucasIntake}. 

Engine speed is typically rated in \emph{revolutions per minute} (RPM). Figure \ref{fig:irl_effect} shows a simulated comparison of torque output versus engine RPM for two intake runner lengths. Different lengths cause the two torque curves to peak at different engine speeds. By switching runner lengths as the engine speed crosses 8500 RPM (as indicated with a dashed vertical line,) the effective torque curve will be maximum of the two curves over the entire operating range. This means the engine will deliver more torque over its entire operating range.

\begin{figure}[H]
\centering
\includegraphics[width=6in,keepaspectratio]{background/figures/irl_effect2.eps}
\caption{Comparison of torque output versus engine RPM.}
\label{fig:irl_effect}
\end{figure}

\subsection{Engine Control Unit\label{sec:ECU}}

\nomenclature{MAP}{Manifold Absolute Pressure}

A specialized third-party component called the \emph{Engine Control Unit} (ECU) controls the fuel injector and spark coil systems that in turn control the combustion cycle of the engine. The particular model of ECU used by the Formula SAE car is the S80Pro from DTAFast.

The ECU uses several sensors to adjust the fuel injector and spark coil timings, such as an \emph{oxygen} (or \emph{$O_{2}$}) sensor to determine the air-to-fuel ratio in the engine, and a \emph{manifold absolute pressure} (MAP) sensor to determine the engine's air mass flow rate. This keeps the engine running smoothly and ensures maximum efficiency and power generation. 

The ECU features a traction control system that monitors wheel slip and cuts spark and fuel to provide traction when one of the wheels is slipping. The ECU also collects the various sensor readings and makes them available to other electronic devices at a fixed frequency through a shared data bus \cite{s80pro}.

\nomenclature{RS-232}{Recommended Standard 232 for Byte-Oriented Communications}
\nomenclature{CAN}{Controller Area Network}

The ECU communicates with proprietary software on a Windows-based computer over an RS-232 link. The communication protocol used is undocumented. The ECU also broadcasts select sensor readings such as engine RPM over a \emph{Controller Area Network} (CAN) interface at a fixed frequency of \unit{10}{\hertz}.

\subsubsection{Discrete Inputs\label{sec:ecu_background_discrete_inputs}}

As well as the aforementioned bus-based interfaces, the ECU provides several CMOS-level discrete outputs:

\begin{itemize}
    \item Launch Control Enable, which allows the ECU to balance power distribution during acceleration;
    \item Shift Cut, which signals the ECU to reduce engine power before a downshift;
    \item Traction Control Enable, which reduces power output when the wheels begin to slip; and
    \item Wet/Dry Selection, which allows the selection of two different sets of traction control parameters.
\end{itemize}

Detailed descriptions of these features can be found in the S80Pro's user manual \cite{s80pro}.


